using sysbus

mach create "nrf52-ci"
machine LoadPlatformDescription @platforms/cpus/nrf52.repl

# 由 Robot/CI 以 sed 注入絕對路徑
sysbus LoadELF __ELF_PATH__

emulation CreateUartPtyTerminal "pty0"
connector Connect sysbus.uart0 pty0

start
emulation RunFor "1.0"
pause

# 主動把 PTY 路徑印到 Renode log，方便 CI 擷取
log "PTY device path: @{sysbus.uart0.FileName}"
